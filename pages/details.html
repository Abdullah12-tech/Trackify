<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Info</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>

    <script src="https://cdn.jsdelivr.net/gh/alpine-collective/alpine-magic-helpers@0.3.x/dist/index.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body >
    <div class="h-screen md:flex">
        <!-- Left Section (Fixed) -->
        <div class="relative overflow-hidden md:flex w-1/2 bg-gradient-to-tr from-blue-800 to-purple-700 justify-around items-center hidden">
            <div class="pl-12 z-50">
                <h1 class="text-white font-bold text-4xl font-sans">Trackify</h1>
                <p class="text-white mt-1">The most popular expense Tracker Website You have to know</p>

                <button type="submit" class="block w-28 bg-white text-indigo-800 mt-4 py-2 rounded-2xl font-bold mb-2">
                    Read More
                </button>
                
            </div>
            <h3 class="z-50 fixed top-3 left-5 font-bold text-2xl text-white">You are almost there</h3>
            <div class="absolute -bottom-32 -left-40 w-80 h-80 border-4 rounded-full border-opacity-30 border-t-8"></div>
		    <div class="absolute -bottom-40 -left-20 w-80 h-80 border-4 rounded-full border-opacity-30 border-t-8"></div>
		    <div class="absolute -top-40 -right-0 w-80 h-80 border-4 rounded-full border-opacity-30 border-t-8"></div>
		    <div class="absolute -top-20 -right-20 w-80 h-80 border-4 rounded-full border-opacity-30 border-t-8"></div>
        </div>
    
        <!-- Right Section (Scrollable) -->
        <div class="h-screen md:w-1/2 overflow-y-auto flex justify-center py-10 items-center bg-white">
            <form id="uploadDetailsForm" class="space-y-4">
                <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">User Information</h2>
                
                <!-- Profile Picture -->
                <div x-data="{photoName: null, photoPreview: null}" class="col-span-6 ml-2 sm:col-span-4 md:mr-3">
                    <input id="photoToUpload" name="photo" type="file"  class="hidden" x-ref="photo" x-on:change="
                        photoName = $refs.photo.files[0].name;
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            photoPreview = e.target.result;
                        };
                        reader.readAsDataURL($refs.photo.files[0]);
                    ">
                    <label class="block text-gray-700 text-sm font-bold mb-2 text-center" for="photo">Profile Photo</label>
                    <div class="text-center">
                        <div class="mt-2" x-show="!photoPreview">
                            <img src="" class="w-40 h-40 m-auto rounded-full shadow">
                        </div>
                        <div class="mt-2" x-show="photoPreview" style="display: none;">
                            <span class="block w-20 h-20 rounded-full m-auto shadow" x-bind:style="'background-image: url(\'' + photoPreview + '\'); background-size: cover; background-position: center center;'"></span>
                        </div>
                        <button type="button" class="inline-flex items-center px-2 py-1 bg-white border border-gray-300 rounded-md text-gray-700 hover:text-gray-500 transition mt-2" x-on:click.prevent="$refs.photo.click()">Select Profile Photo</button>
                    </div>
                </div>
    
                <!-- Form Fields -->
                <div><label for="fullName" class="text-sm font-medium text-gray-600">Full Name:</label>
                    <input name="fullname" type="text" id="fullName" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500">
                </div>
                <div><label for="phone" class="text-sm font-medium text-gray-600">Phone Number:</label>
                    <input name="phone" type="tel" id="phone" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500">
                </div>
                <div><label for="address" class="text-sm font-medium text-gray-600">Address:</label>
                    <input name="address" type="text" id="address" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500">
                </div>
                <div><label for="nationality" class="text-sm font-medium text-gray-600">Nationality:</label>
                    <input name="nation" type="text" id="nationality" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500">
                </div>
                <div><label for="zipcode" class="text-sm font-medium text-gray-600">Zip Code:</label>
                    <input name="zipcode" type="text" id="zipcode" required class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500">
                </div>
                <p id="errorP" class="mt-4 text-center text-sm text-red-600"></p>
                <!-- Submit Button -->
                <button type="submit" class="w-full flex items-center justify-center gap-2 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition">
                    <div id="spinner" class="d-none spinner-border-sm spinner-border" role="status"></div>
                    Submit
                </button>
            </form>
        </div>
    </div>
    
</body>
<script type="module" src="../javascript/details.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</html>
